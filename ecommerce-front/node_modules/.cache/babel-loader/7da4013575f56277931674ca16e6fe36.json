{"ast":null,"code":"import{API}from'../config';export var signin=function signin(user){return fetch(\"\".concat(API,\"/signin\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};export var signup=function signup(user){return fetch(\"\".concat(API,\"/signup\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(err){console.log(err);});};export var authenticate=function authenticate(data,next){if(typeof window!=='undefined'){localStorage.setItem('jwt',JSON.stringify(data));next();}};export var signout=function signout(next){if(typeof window!=='undefined'){localStorage.removeItem('jwt');next();return fetch(\"\".concat(API,\"/signout\"),{method:'GET'}).then(function(response){console.log('signout',response);}).catch(function(err){return console.log(err);});}};export var isAuthenticated=function isAuthenticated(){if(typeof window=='undefined'){return false;}if(localStorage.getItem('jwt')){return JSON.parse(localStorage.getItem('jwt'));}else{return false;}};","map":{"version":3,"sources":["D:/minnicreations/ecommerce-front/src/auth/index.js"],"names":["API","signin","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","console","log","signup","authenticate","data","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse"],"mappings":"AAAA,OAASA,GAAT,KAAoB,WAApB,CAGA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,IAAI,CAAI,CAC1B,MAAOC,CAAAA,KAAK,WAAIH,GAAJ,YAAkB,CAC1BI,MAAM,CAAE,MADkB,CAE1BC,OAAO,CAAE,CACLC,MAAM,CAAE,kBADH,CAEL,eAAgB,kBAFX,CAFiB,CAM1BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf,CANoB,CAAlB,CAAL,CAQFQ,IARE,CAQG,SAAAC,QAAQ,CAAI,CACd,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACH,CAVE,EAWFC,KAXE,CAWI,SAAAC,GAAG,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAbE,CAAP,CAcH,CAfM,CAiBP,MAAO,IAAMG,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAf,IAAI,CAAI,CAC1B,MAAOC,CAAAA,KAAK,WAAIH,GAAJ,YAAkB,CAC1BI,MAAM,CAAE,MADkB,CAE1BC,OAAO,CAAE,CACLC,MAAM,CAAE,kBADH,CAEL,eAAgB,kBAFX,CAFiB,CAM1BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf,CANoB,CAAlB,CAAL,CAQFQ,IARE,CAQG,SAAAC,QAAQ,CAAI,CACd,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACH,CAVE,EAWFC,KAXE,CAWI,SAAAC,GAAG,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAbE,CAAP,CAcH,CAfM,CAgBP,MAAO,IAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,CAAOC,IAAP,CAAgB,CACxC,GAAI,MAAOC,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CAC/BC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4Bf,IAAI,CAACC,SAAL,CAAeU,IAAf,CAA5B,EACAC,IAAI,GACP,CACJ,CALM,CAOP,MAAO,IAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAJ,IAAI,CAAI,CAC3B,GAAI,MAAOC,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CAC/BC,YAAY,CAACG,UAAb,CAAwB,KAAxB,EACAL,IAAI,GACJ,MAAOjB,CAAAA,KAAK,WAAIH,GAAJ,aAAmB,CAC3BI,MAAM,CAAE,KADmB,CAAnB,CAAL,CAGFM,IAHE,CAGG,SAAAC,QAAQ,CAAI,CACdI,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBL,QAAvB,EACH,CALE,EAMFE,KANE,CAMI,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EANP,CAAP,CAOH,CACJ,CAZM,CAcP,MAAO,IAAMY,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CACjC,GAAI,MAAOL,CAAAA,MAAP,EAAiB,WAArB,CAAkC,CAC9B,MAAO,MAAP,CACH,CACD,GAAIC,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAJ,CAAiC,CAC7B,MAAOnB,CAAAA,IAAI,CAACoB,KAAL,CAAWN,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAX,CAAP,CACH,CAFD,IAEO,CACH,MAAO,MAAP,CACH,CACJ,CATM","sourcesContent":["import { API } from '../config';\r\n\r\n\r\nexport const signin = user => {\r\n    return fetch(`${API}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const signup = user => {\r\n    return fetch(`${API}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\nexport const authenticate = (data, next) => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.setItem('jwt', JSON.stringify(data));\r\n        next();\r\n    }\r\n};\r\n\r\nexport const signout = next => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('jwt');\r\n        next();\r\n        return fetch(`${API}/signout`, {\r\n            method: 'GET'\r\n        })\r\n            .then(response => {\r\n                console.log('signout', response);\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n    if (typeof window == 'undefined') {\r\n        return false;\r\n    }\r\n    if (localStorage.getItem('jwt')) {\r\n        return JSON.parse(localStorage.getItem('jwt'));\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}