{"ast":null,"code":"import _slicedToArray from\"D:\\\\minnicreations\\\\ecommerce-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Layout from\"../core/Layout\";import{isAuthenticated}from\"../auth\";import{Link}from\"react-router-dom\";import{createCategory}from\"./apiAdmin\";var AddCategory=function AddCategory(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];// destructure user and token from localstorage\nvar _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var handleChange=function handleChange(e){setError(\"\");setName(e.target.value);};var clickSubmit=function clickSubmit(e){e.preventDefault();setError(\"\");setSuccess(false);// make request to api to create category\ncreateCategory(user._id,token,{name:name}).then(function(data){if(data.error){setError(data.error);}else{setError(\"\");setSuccess(true);}});};var newCategoryFom=function newCategoryFom(){return React.createElement(\"form\",{onSubmit:clickSubmit},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-muted\"},\"Name\"),React.createElement(\"input\",{type:\"text\",className:\"form-control\",onChange:handleChange,value:name,autoFocus:true,required:true})),React.createElement(\"button\",{className:\"btn btn-outline-primary\"},\"Create Category\"));};var showSuccess=function showSuccess(){if(success){return React.createElement(\"h3\",{className:\"text-success\"},name,\" is created\");}};var showError=function showError(){if(error){return React.createElement(\"h3\",{className:\"text-danger\"},\"Category should be unique\");}};var goBack=function goBack(){return React.createElement(\"div\",{className:\"mt-5\"},React.createElement(Link,{to:\"/admin/dashboard\",className:\"text-warning\"},\"Back to Dashboard\"));};return React.createElement(Layout,{title:\"Add a new category\",description:\"G'day \".concat(user.name,\", ready to add a new category?\")},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-8 offset-md-2\"},showSuccess(),showError(),newCategoryFom(),goBack())));};export default AddCategory;","map":{"version":3,"sources":["D:/minnicreations/ecommerce-front/src/admin/AddCategory.js"],"names":["React","useState","Layout","isAuthenticated","Link","createCategory","AddCategory","name","setName","error","setError","success","setSuccess","user","token","handleChange","e","target","value","clickSubmit","preventDefault","_id","then","data","newCategoryFom","showSuccess","showError","goBack"],"mappings":"+JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,OAASC,eAAT,KAAgC,SAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,cAAT,KAA+B,YAA/B,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,eACEL,QAAQ,CAAC,EAAD,CADV,wCACfM,IADe,eACTC,OADS,8BAEIP,QAAQ,CAAC,KAAD,CAFZ,yCAEfQ,KAFe,eAERC,QAFQ,8BAGQT,QAAQ,CAAC,KAAD,CAHhB,yCAGfU,OAHe,eAGNC,UAHM,eAKtB;AALsB,qBAMET,eAAe,EANjB,CAMdU,IANc,kBAMdA,IANc,CAMRC,KANQ,kBAMRA,KANQ,CAQtB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,CACtBN,QAAQ,CAAC,EAAD,CAAR,CACAF,OAAO,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACH,CAHD,CAKA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAH,CAAC,CAAI,CACrBA,CAAC,CAACI,cAAF,GACAV,QAAQ,CAAC,EAAD,CAAR,CACAE,UAAU,CAAC,KAAD,CAAV,CACA;AACAP,cAAc,CAACQ,IAAI,CAACQ,GAAN,CAAWP,KAAX,CAAkB,CAAEP,IAAI,CAAJA,IAAF,CAAlB,CAAd,CAA0Ce,IAA1C,CAA+C,SAAAC,IAAI,CAAI,CACnD,GAAIA,IAAI,CAACd,KAAT,CAAgB,CACZC,QAAQ,CAACa,IAAI,CAACd,KAAN,CAAR,CACH,CAFD,IAEO,CACHC,QAAQ,CAAC,EAAD,CAAR,CACAE,UAAU,CAAC,IAAD,CAAV,CACH,CACJ,CAPD,EAQH,CAbD,CAeA,GAAMY,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,SACnB,6BAAM,QAAQ,CAAEL,WAAhB,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,SAAS,CAAC,YAAjB,SADJ,CAEI,6BACI,IAAI,CAAC,MADT,CAEI,SAAS,CAAC,cAFd,CAGI,QAAQ,CAAEJ,YAHd,CAII,KAAK,CAAER,IAJX,CAKI,SAAS,KALb,CAMI,QAAQ,KANZ,EAFJ,CADJ,CAYI,8BAAQ,SAAS,CAAC,yBAAlB,oBAZJ,CADmB,EAAvB,CAiBA,GAAMkB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,GAAId,OAAJ,CAAa,CACT,MAAO,2BAAI,SAAS,CAAC,cAAd,EAA8BJ,IAA9B,eAAP,CACH,CACJ,CAJD,CAMA,GAAMmB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB,GAAIjB,KAAJ,CAAW,CACP,MAAO,2BAAI,SAAS,CAAC,aAAd,8BAAP,CACH,CACJ,CAJD,CAMA,GAAMkB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,SACX,4BAAK,SAAS,CAAC,MAAf,EACI,oBAAC,IAAD,EAAM,EAAE,CAAC,kBAAT,CAA4B,SAAS,CAAC,cAAtC,sBADJ,CADW,EAAf,CAQA,MACI,qBAAC,MAAD,EACI,KAAK,CAAC,oBADV,CAEI,WAAW,iBAAWd,IAAI,CAACN,IAAhB,kCAFf,EAII,2BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,sBAAf,EACKkB,WAAW,EADhB,CAEKC,SAAS,EAFd,CAGKF,cAAc,EAHnB,CAIKG,MAAM,EAJX,CADJ,CAJJ,CADJ,CAeH,CAhFD,CAkFA,cAAerB,CAAAA,WAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createCategory } from \"./apiAdmin\";\r\n\r\nconst AddCategory = () => {\r\n    const [name, setName] = useState(\"\");\r\n    const [error, setError] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    // destructure user and token from localstorage\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const handleChange = e => {\r\n        setError(\"\");\r\n        setName(e.target.value);\r\n    };\r\n\r\n    const clickSubmit = e => {\r\n        e.preventDefault();\r\n        setError(\"\");\r\n        setSuccess(false);\r\n        // make request to api to create category\r\n        createCategory(user._id, token, { name }).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setError(\"\");\r\n                setSuccess(true);\r\n            }\r\n        });\r\n    };\r\n\r\n    const newCategoryFom = () => (\r\n        <form onSubmit={clickSubmit}>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    onChange={handleChange}\r\n                    value={name}\r\n                    autoFocus\r\n                    required\r\n                />\r\n            </div>\r\n            <button className=\"btn btn-outline-primary\">Create Category</button>\r\n        </form>\r\n    );\r\n\r\n    const showSuccess = () => {\r\n        if (success) {\r\n            return <h3 className=\"text-success\">{name} is created</h3>;\r\n        }\r\n    };\r\n\r\n    const showError = () => {\r\n        if (error) {\r\n            return <h3 className=\"text-danger\">Category should be unique</h3>;\r\n        }\r\n    };\r\n\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n            <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n                Back to Dashboard\r\n            </Link>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Add a new category\"\r\n            description={`G'day ${user.name}, ready to add a new category?`}\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newCategoryFom()}\r\n                    {goBack()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default AddCategory;\r\n"]},"metadata":{},"sourceType":"module"}