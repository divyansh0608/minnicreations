{"ast":null,"code":"import _defineProperty from\"D:\\\\minnicreations\\\\ecommerce-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\minnicreations\\\\ecommerce-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\minnicreations\\\\ecommerce-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Redirect}from\"react-router-dom\";import Layout from\"../core/Layout\";import{signin,authenticate,isAuthenticated}from\"../auth\";var Signin=function Signin(){var _useState=useState({email:'vibhu@gmail.com',password:'abc123',error:'',loading:false,redirectToReferrer:false}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var email=values.email,password=values.password,loading=values.loading,error=values.error,redirectToReferrer=values.redirectToReferrer;var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user;var handleChange=function handleChange(name){return function(event){setValues(_objectSpread({},values,_defineProperty({error:false},name,event.target.value)));};};var clickSubmit=function clickSubmit(event){event.preventDefault();setValues(_objectSpread({},values,{error:false,loading:true}));signin({email:email,password:password}).then(function(data){if(data.error){setValues(_objectSpread({},values,{error:data.error,loading:false}));}else{authenticate(data,function(){setValues(_objectSpread({},values,{redirectToReferrer:true}));});}});};var signUpForm=function signUpForm(){return React.createElement(\"form\",null,React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-muted\"},\"Email\"),React.createElement(\"input\",{onChange:handleChange(\"email\"),type:\"email\",className:\"form-control\",value:email})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"text-muted\"},\"Password\"),React.createElement(\"input\",{onChange:handleChange(\"password\"),type:\"password\",className:\"form-control\",value:password})),React.createElement(\"button\",{onClick:clickSubmit,className:\"btn btn-primary\"},\"Submit\"));};var showError=function showError(){return React.createElement(\"div\",{className:\"alert alert-danger\",style:{display:error?\"\":\"none\"}},error);};var showLoading=function showLoading(){return loading&&React.createElement(\"div\",{className:\"alert alert-info\"},React.createElement(\"h2\",null,\"Loading...\"));};var redirectUser=function redirectUser(){if(redirectToReferrer){if(user&&user.role===1){return React.createElement(Redirect,{to:\"/admin/dashboard\"});}else{return React.createElement(Redirect,{to:\"/user/dashboard\"});}}if(isAuthenticated()){return React.createElement(Redirect,{to:\"/\"});}};return React.createElement(Layout,{title:\"Signin\",description:\"Signin to Node React E-commerce App\",className:\"container col-md-8 offset-md-2\"},showLoading(),showError(),signUpForm(),redirectUser());};export default Signin;// import React, { useState } from 'react';\n// import { Link ,Redirect} from 'react-router-dom';\n// import Layout from '../core/Layout';\n// import { signin, authenticate , isAuthenticated} from '../auth';\n// const Signin = () => {\n//     const [values, setValues] = useState({\n//         email: '9june@gmail.com',\n//         password: 'abc123',\n//         error: '',\n//         loading: false,\n//         redirectToReferrer:false,\n//     });\n//     const {  email, password, loading, error ,redirectToReferrer } = values;\n//     const handleChange = name => event => {\n//         setValues({ ...values, error: false, [name]: event.target.value });\n//     };\n//     const clickSubmit = event => {\n//         event.preventDefault();\n//         setValues({ ...values, error: false, loading: true });\n//         signin({ email, password }).then(data => {\n//             if (data.error) {\n//                 setValues({ ...values, error: data.error, loading: false });\n//             } else {\n//                 authenticate(data, () => {\n//                     setValues({\n//                         ...values,\n//                         redirectToReferrer: true\n//                     });\n//                 });\n//             }\n//         });\n//     };\n//     const signUpForm  = () => (\n//         <form>\n//             <div className=\"form-group\">\n//                 <label className=\"text-muted\">Email</label>\n//                 <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email} />\n//             </div>\n//             <div className=\"form-group\">\n//                 <label className=\"text-muted\">Password</label>\n//                 <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password} />\n//             </div>\n//             <button onClick={clickSubmit} className=\"btn btn-primary\">\n//                 Submit\n//             </button>\n//         </form>\n//     );\n//     const showError = () => (\n//         <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\n//             {error}\n//         </div>\n//     );\n//     const showLoading = () =>\n//     loading && (\n//         <div className=\"alert alert-info\">\n//             <h2>Loading...</h2>\n//         </div>\n//     );\n//     const redirectUser = () => {\n//         if (redirectToReferrer) {\n//             if (user && user.role === 1) {\n//                 return <Redirect to=\"/admin/dashboard\" />;\n//             } else {\n//                 return <Redirect to=\"/user/dashboard\" />;\n//             }\n//         }\n//         if (isAuthenticated()) {\n//             return <Redirect to=\"/\" />;\n//         }\n//     };\n//     return (\n//         <Layout\n//             title=\"Signin\"\n//             description=\"Signin to Node React E-commerce App\"\n//             className=\"container col-md-8 offset-md-2\"\n//         >\n//             {showLoading()}\n//             {showError()}\n//             {signUpForm()}\n//             {redirectUser()}\n//         </Layout>\n//     );\n// };\n// export default Signin;\n// import React from \"react\";\n// import Layout from \"../core/Layout\";\n// import {API} from \"../config\";\n// const Signin=()=> (  <Layout title=\"Signin Page\" description=\" ecom app\">\n//       {API}\n//       </Layout>\n// );\n// export default Signin","map":{"version":3,"sources":["D:/minnicreations/ecommerce-front/src/user/Signin.js"],"names":["React","useState","Redirect","Layout","signin","authenticate","isAuthenticated","Signin","email","password","error","loading","redirectToReferrer","values","setValues","user","handleChange","name","event","target","value","clickSubmit","preventDefault","then","data","signUpForm","showError","display","showLoading","redirectUser","role"],"mappings":"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CAXD,CAaA,MACI,qBAAC,MAAD,EACI,KAAK,CAAC,QADV,CAEI,WAAW,CAAC,qCAFhB,CAGI,SAAS,CAAC,gCAHd,EAKKsB,WAAW,EALhB,CAMKF,SAAS,EANd,CAOKD,UAAU,EAPf,CAQKI,YAAY,EARjB,CADJ,CAYH,CArGD,CAuGA,cAAetB,CAAAA,MAAf,CAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Layout from \"../core/Layout\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\r\n\r\nconst Signin = () => {\r\n    const [values, setValues] = useState({\r\n        email: 'vibhu@gmail.com',\r\n        password: 'abc123',\r\n        error: '',\r\n        loading: false,\r\n        redirectToReferrer:false,\r\n    });\r\n\r\n    const { email, password, loading, error, redirectToReferrer } = values;\r\n    const { user } = isAuthenticated();\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: false, loading: true });\r\n        signin({ email, password }).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error, loading: false });\r\n            } else {\r\n                authenticate(data, () => {\r\n                    setValues({\r\n                        ...values,\r\n                        redirectToReferrer: true\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const signUpForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input\r\n                    onChange={handleChange(\"email\")}\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    value={email}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input\r\n                    onChange={handleChange(\"password\")}\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    value={password}\r\n                />\r\n            </div>\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n                Submit\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n        >\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n            <div className=\"alert alert-info\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        );\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToReferrer) {\r\n            if (user && user.role === 1) {\r\n                return <Redirect to=\"/admin/dashboard\" />;\r\n            } else {\r\n                return <Redirect to=\"/user/dashboard\" />;\r\n            }\r\n        }\r\n        if (isAuthenticated()) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Signin\"\r\n            description=\"Signin to Node React E-commerce App\"\r\n            className=\"container col-md-8 offset-md-2\"\r\n        >\r\n            {showLoading()}\r\n            {showError()}\r\n            {signUpForm()}\r\n            {redirectUser()}\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Signin;\r\n\r\n\r\n\r\n// import React, { useState } from 'react';\r\n// import { Link ,Redirect} from 'react-router-dom';\r\n// import Layout from '../core/Layout';\r\n// import { signin, authenticate , isAuthenticated} from '../auth';\r\n\r\n// const Signin = () => {\r\n//     const [values, setValues] = useState({\r\n//         email: '9june@gmail.com',\r\n//         password: 'abc123',\r\n//         error: '',\r\n//         loading: false,\r\n//         redirectToReferrer:false,\r\n//     });\r\n\r\n//     const {  email, password, loading, error ,redirectToReferrer } = values;\r\n\r\n//     const handleChange = name => event => {\r\n//         setValues({ ...values, error: false, [name]: event.target.value });\r\n//     };\r\n\r\n//     const clickSubmit = event => {\r\n//         event.preventDefault();\r\n//         setValues({ ...values, error: false, loading: true });\r\n//         signin({ email, password }).then(data => {\r\n//             if (data.error) {\r\n//                 setValues({ ...values, error: data.error, loading: false });\r\n//             } else {\r\n//                 authenticate(data, () => {\r\n//                     setValues({\r\n//                         ...values,\r\n//                         redirectToReferrer: true\r\n//                     });\r\n//                 });\r\n//             }\r\n//         });\r\n//     };\r\n\r\n//     const signUpForm  = () => (\r\n//         <form>\r\n            \r\n//             <div className=\"form-group\">\r\n//                 <label className=\"text-muted\">Email</label>\r\n//                 <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email} />\r\n//             </div>\r\n\r\n//             <div className=\"form-group\">\r\n//                 <label className=\"text-muted\">Password</label>\r\n//                 <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password} />\r\n//             </div>\r\n//             <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n//                 Submit\r\n//             </button>\r\n//         </form>\r\n//     );\r\n\r\n//     const showError = () => (\r\n//         <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n//             {error}\r\n//         </div>\r\n//     );\r\n//     const showLoading = () =>\r\n//     loading && (\r\n//         <div className=\"alert alert-info\">\r\n//             <h2>Loading...</h2>\r\n//         </div>\r\n//     );\r\n//     const redirectUser = () => {\r\n//         if (redirectToReferrer) {\r\n//             if (user && user.role === 1) {\r\n//                 return <Redirect to=\"/admin/dashboard\" />;\r\n//             } else {\r\n//                 return <Redirect to=\"/user/dashboard\" />;\r\n//             }\r\n//         }\r\n//         if (isAuthenticated()) {\r\n//             return <Redirect to=\"/\" />;\r\n//         }\r\n//     };\r\n//     return (\r\n//         <Layout\r\n//             title=\"Signin\"\r\n//             description=\"Signin to Node React E-commerce App\"\r\n//             className=\"container col-md-8 offset-md-2\"\r\n//         >\r\n//             {showLoading()}\r\n//             {showError()}\r\n//             {signUpForm()}\r\n//             {redirectUser()}\r\n//         </Layout>\r\n//     );\r\n// };\r\n\r\n// export default Signin;\r\n\r\n\r\n\r\n\r\n// import React from \"react\";\r\n// import Layout from \"../core/Layout\";\r\n// import {API} from \"../config\";\r\n// const Signin=()=> (  <Layout title=\"Signin Page\" description=\" ecom app\">\r\n//       {API}\r\n//       </Layout>\r\n// );\r\n// export default Signin"]},"metadata":{},"sourceType":"module"}